<section class="container mb-16">
  <div class="bg-white relative">
    <app-header></app-header>
    <main>
      <div class="mx-auto max-w-2xl px-4 py-4">
        <h1
          class="text-center text-3xl font-bold tracking-tight text-primary sm:text-4xl"
        >
          Shopping Cart
        </h1>

        <form class="mt-12">
          <section aria-labelledby="cart-heading">
            <h2 id="cart-heading" class="sr-only">
              Items in your shopping cart
            </h2>

            <ul
              role="list"
              class="divide-y divide-gray-200 border-b border-t border-gray-200"
              *ngIf="cartItems.length !== 0; else emptyCart"
            >
              <li class="flex py-6" *ngFor="let item of cartItems">
                <div class="flex-shrink-0">
                  <img [src]="getImage(item)" alt="" class="max-h-[60px]" />
                </div>

                <div class="ml-4 flex flex-1 flex-col sm:ml-6">
                  <div>
                    <div class="flex justify-between">
                      <h4 class="text-md">
                        <a
                          routerLink="/products/{{ item._id }}"
                          class="font-bold text-gray-700 hover:text-gray-800"
                          >{{ item.name }}</a
                        >
                      </h4>
                      <p class="ml-4 text-sm font-medium text-gray-900">
                        {{ item.totalAmount | takaCurrency }}
                      </p>
                    </div>
                  </div>

                  <div class="mt-4 flex flex-1 items-end justify-between">
                    <div
                      class="flex items-center space-x-2 text-sm text-gray-700"
                    >
                      <p
                        class="text-primary text-2xl"
                        (click)="increaseQuantity(item._id)"
                      >
                        +
                      </p>
                      <p>{{ item.quantity }}</p>
                      <p
                        class="text-error text-2xl"
                        (click)="decreaseQuantity(item._id)"
                      >
                        -
                      </p>
                    </div>
                    <div class="ml-4">
                      <button
                        type="button"
                        class="text-sm font-medium text-indigo-600 hover:text-indigo-500"
                        (click)="handleRemoveFromCart(item._id)"
                      >
                        <span class="text-error">Remove</span>
                      </button>
                    </div>
                  </div>
                </div>
              </li>
            </ul>
            <ng-template #emptyCart>
              <p class="text-center text-3xl">Cart is empty</p>
              <div>
                <a
                  routerLink="/home"
                  class="btn btn-primary text-white w-full mt-4"
                  >Continue Shopping</a
                >
              </div>
            </ng-template>
          </section>

          <!-- Order summary -->
          <section aria-labelledby="summary-heading" class="mt-10">
            <div class="">
              <h2 id="summary-heading" class="sr-only">Order summary</h2>

              <div class="">
                <dl class="space-y-4">
                  <div class="flex items-center justify-between">
                    <dt class="text-base font-medium text-gray-900">
                      Subtotal
                    </dt>
                    <dd class="ml-4 text-base font-medium text-gray-900">
                      {{ total | takaCurrency }}
                    </dd>
                  </div>
                </dl>
                <p class="mt-1 text-sm text-gray-500">
                  Shipping and taxes will be calculated at checkout.
                </p>
              </div>

              <div class="mt-10" *ngIf="total !== 0">
                <button type="submit" class="btn btn-primary w-full">
                  Checkout
                </button>
              </div>

              <div class="mt-6 text-center text-sm text-gray-500">
                <p>
                  or
                  <a
                    routerLink="/home"
                    class="font-medium text-primary hover:text-primaryGreenHover"
                  >
                    Continue Shopping
                    <span aria-hidden="true"> &rarr;</span>
                  </a>
                </p>
              </div>
            </div>
          </section>
        </form>
      </div>

      <!-- Policy grid -->
      <!-- <section
        aria-labelledby="policies-heading"
        class="border-t border-gray-200 bg-gray-50"
      >
        <h2 id="policies-heading" class="sr-only">Our policies</h2>
  
        <div class="mx-auto max-w-7xl px-4 py-24 sm:px-6 sm:py-32 lg:px-8">
          <div
            class="grid grid-cols-1 gap-y-12 sm:grid-cols-2 sm:gap-x-6 lg:grid-cols-4 lg:gap-x-8 lg:gap-y-0"
          >
            <div
              class="text-center md:flex md:items-start md:text-left lg:block lg:text-center"
            >
              <div class="md:flex-shrink-0">
                <div class="flow-root">
                  <img
                    class="-my-1 mx-auto h-24 w-auto"
                    src="https://tailwindui.com/img/ecommerce/icons/icon-returns-light.svg"
                    alt=""
                  />
                </div>
              </div>
              <div class="mt-6 md:ml-4 md:mt-0 lg:ml-0 lg:mt-6">
                <h3 class="text-base font-medium text-gray-900">Free returns</h3>
                <p class="mt-3 text-sm text-gray-500">
                  Not what you expected? Place it back in the parcel and attach
                  the pre-paid postage stamp.
                </p>
              </div>
            </div>
            <div
              class="text-center md:flex md:items-start md:text-left lg:block lg:text-center"
            >
              <div class="md:flex-shrink-0">
                <div class="flow-root">
                  <img
                    class="-my-1 mx-auto h-24 w-auto"
                    src="https://tailwindui.com/img/ecommerce/icons/icon-calendar-light.svg"
                    alt=""
                  />
                </div>
              </div>
              <div class="mt-6 md:ml-4 md:mt-0 lg:ml-0 lg:mt-6">
                <h3 class="text-base font-medium text-gray-900">
                  Same day delivery
                </h3>
                <p class="mt-3 text-sm text-gray-500">
                  We offer a delivery service that has never been done before.
                  Checkout today and receive your products within hours.
                </p>
              </div>
            </div>
            <div
              class="text-center md:flex md:items-start md:text-left lg:block lg:text-center"
            >
              <div class="md:flex-shrink-0">
                <div class="flow-root">
                  <img
                    class="-my-1 mx-auto h-24 w-auto"
                    src="https://tailwindui.com/img/ecommerce/icons/icon-gift-card-light.svg"
                    alt=""
                  />
                </div>
              </div>
              <div class="mt-6 md:ml-4 md:mt-0 lg:ml-0 lg:mt-6">
                <h3 class="text-base font-medium text-gray-900">
                  All year discount
                </h3>
                <p class="mt-3 text-sm text-gray-500">
                  Looking for a deal? You can use the code &quot;ALLYEAR&quot; at
                  checkout and get money off all year round.
                </p>
              </div>
            </div>
            <div
              class="text-center md:flex md:items-start md:text-left lg:block lg:text-center"
            >
              <div class="md:flex-shrink-0">
                <div class="flow-root">
                  <img
                    class="-my-1 mx-auto h-24 w-auto"
                    src="https://tailwindui.com/img/ecommerce/icons/icon-planet-light.svg"
                    alt=""
                  />
                </div>
              </div>
              <div class="mt-6 md:ml-4 md:mt-0 lg:ml-0 lg:mt-6">
                <h3 class="text-base font-medium text-gray-900">
                  For the planet
                </h3>
                <p class="mt-3 text-sm text-gray-500">
                  Weâ€™ve pledged 1% of sales to the preservation and restoration of
                  the natural environment.
                </p>
              </div>
            </div>
          </div>
        </div>
      </section> -->
    </main>
    <app-bottom-menu></app-bottom-menu>
  </div>
</section>
